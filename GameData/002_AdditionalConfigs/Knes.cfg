// Multi Role Capsule configs
@PART[_Knes_mrk_LES]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	@mass = 2.574

	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@minThrust = 0
		@maxThrust = 689.5
		@heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 190
			@key,1 = 1 176
		}
		transformMultipliers
		{
			trf0 = 0.0027
			trf1 = 0.249325
			trf2 = 0.249325
			trf3 = 0.249325
			trf4 = 0.249325
		}
	}
	!RESOURCE[SolidFuel] {}
	MODULE
	{
		name = ModuleFuelTanks
		basemass = -1
		volume = 898.3
		type = Solid
	}
}
//Viking one man command

@PART[Knes_Crew_Pod_09375]:FOR[RP-0]
{

	MODULE
	{
		name = ModuleAvionics
		massLimit = 2.0
		interplanetary = False
	}

}

@PART[Knes_Crew_Pod_09375]:NEEDS[FeatureScience,RP-0]:BEFORE[RP-0-Kerbalism] 
{ 
	%capsuleTier = Basic
	!MODULE[HardDrive] {}
	MODULE
	{
		name = HardDrive
		title = Data Storage
		dataCapacity = #$@KERBALISM_HDD_SIZES/mercury/data$
		sampleCapacity = #$@KERBALISM_HDD_SIZES/mercury/samples$
	}
}

@PART[Knes_EscapeTower_Small]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	%skinMaxTemp = 2000
	@rescaleFactor = 1.6
	@mass = 0.95
}

@PART[Knes_Parachute_Inline_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	%skinMaxTemp = 2000
	@rescaleFactor = 1.6
	@mass = 0.10
}

@Part[_Knes_Structural_Adapter_09375_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	@mass = 0.03
	%skinMaxTemp = 2000
	!RESOURCE[ElectricCharge]{}
	!RESOURCE[MonoPropellant]{}
}

@Part[_Knes_Structural_EndCap_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
}

@PART[_Knes_Structural_Node_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	@mass = 0.3
}

@PART[_Knes_Structural_Short_Adapter_09375_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	!RESOURCE[ElectricCharge]{}
	!RESOURCE[MonoPropellant]{}
}

@PART[_Knes_Utility_Adapter_09375_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	!RESOURCE[ElectricCharge]{}
	!RESOURCE[MonoPropellant]{}

	@MODULE[ModuleEnginesFX],*
	{
		!resourceName = DELETE
		!PROPELLANT[MonoPropellant]{}
		@minThrust = 0.5
		@maxThrust = 0.5
		
		PROPELLANT
		{
			name = HTP
			ratio = 1.0
			DrawGauge = True
		}
		
		@atmosphereCurve
		{
			@key,0 = 0 167
			@key,1 = 1 110
		}
	}
}

@PART[Knes_Decoupler_G0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	!RESOURCE[ElectricCharge]{}
	!RESOURCE[MonoPropellant]{}
}

@PART[Knes_DockingPortJr_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	@mass = 0.04
}

@PART[_Knes_Control_LowProfile_RCS_0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	%skinMaxTemp = 2000
	@mass = 0.06
	!RESOURCE[MonoPropellant]{}

	@MODULE[ModuleEnginesFX],*
	{
		!resourceName = DELETE
		!PROPELLANT[MonoPropellant]{}
		@minThrust = 0.5
		@maxThrust = 0.5
		
		PROPELLANT
		{
			name = HTP
			ratio = 1.0
			DrawGauge = True
		}
		
		@atmosphereCurve
		{
			@key,0 = 0 167
			@key,1 = 1 110
		}
	}
}

@PART[Knes_Crew_Pod_09375]:FOR[RealismOverhaul]
{

	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	@mass = 0.72
	%skinMaxTemp = 2000
	
	!MODULE[ModuleReactionWheel]{}
	!MODULE[ModuleCargoPart]{}
	!RESOURCE[ElectricCharge]{}
	
	@MODULE[ModuleCommand]
	{
		@minimumCrew = 0
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.53
		}
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 250
		type = ServiceModule
		basemass = -1
		TANK
		{
			name = HTP
			amount = 30
			maxAmount = 30
		}
		TANK
		{
			name = ElectricCharge
			amount = 43200
			maxAmount = 43200
		}
	}

	%setDefaultTACLS = true
	%defaultTACLSPax = 1.0
	%defaultTACLSSupply = 1.0
	
	MODULE
	{
		name = ProcessController
		resource = _Scrubber
		title = LiOH Scrubber
		capacity = 1
		running = true
	}

}

@PART[Knes_Service_Module_Viking_09375]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%RP0conf = True
	@rescaleFactor = 1.6
	@mass = 0.2
	%skinMaxTemp = 2000
	
	!MODULE[ModuleReactionWheel]{}
	!RESOURCE[MonoPropellant]{}
	!RESOURCE[ElectricCharge]{}
	
	MODULE
	{
		name = ModuleFuelTanks
		basemass = -1
		type = ServiceModule
		volume = 1000
		
		TANK
		{
			name = HTP
			amount = 50
			maxAmount = 50
		}
	}
}

@PART[Knes_Crew_Pod_09375|Knes_Service_Module_Viking_09375]:FOR[RealismOverhaul]
{
	@MODULE[ModuleRCSFX],*
	{
		!resourceName = DELETE
		@thrusterPower = 0.05
		PROPELLANT
		{
			name = HTP
			ratio = 1.0
		}
		
		@atmosphereCurve
		{
			@key,0 = 0 167
			@key,1 = 1 110
		}
	}
}

@PART[Knes_Service_Module_Viking_09375]:FOR[RealismOverhaul]
{
	@MODULE[ModuleEnginesFX],*
	{
		!resourceName = DELETE
		!PROPELLANT[MonoPropellant]{}
		@minThrust = 0.5
		@maxThrust = 0.5
		
		PROPELLANT
		{
			name = HTP
			ratio = 1.0
			DrawGauge = True
		}
		
		@atmosphereCurve
		{
			@key,0 = 0 167
			@key,1 = 1 110
		}
	}
}

//Tech tree placement
@PART[Knes_Crew_Pod_09375]:FOR[xxxRP0]
{
    %TechRequired = basicCapsules
    %cost = 2500
    %entryCost = 75000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>

    %MODULE[ModuleTagList] { tag = HumanRated }
    %MODULE[ModuleTagList] { tag = NoResourceCostMult }
    %MODULE[ModuleTagList] { tag = Reentry }

	%identicalParts = _Knes_Control_LowProfile_RCS_0625,Knes_DockingPortJr_0625,Knes_Parachute_Inline_0625,Knes_Service_Module_Viking_09375

}
@PART[Knes_EscapeTower_Small]:FOR[xxxRPO]
{
	%TechRequired = basicCapsules
    %cost = 250
    %entryCost = 25000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>

	%MODULE[ModuleTagList] { tag = NoResourceCostMult }
}

@PART[_Knes_Control_LowProfile_RCS_0625,Knes_DockingPortJr_0625,Knes_Parachute_Inline_0625]:FOR[xxxRPO]
{
	%TechRequired = basicCapsules
    %cost = 50
    %entryCost = 75000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>
	%MODULE[ModuleTagList] { tag = NoResourceCostMult }
}

@PART[Knes_Service_Module_Viking_09375]:FOR[xxxRP0]
{
    %TechRequired = basicCapsules
    %cost = 650
    %entryCost = 75000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>

    %MODULE[ModuleTagList] { tag = NoResourceCostMult }
	%identicalParts = _Knes_Control_LowProfile_RCS_0625,Knes_DockingPortJr_0625,Knes_Parachute_Inline_0625,Knes_Crew_Pod_09375

}
@PART[Knes_Hermes]:FOR[xxxRP0]
{
    %TechRequired = spaceShuttles
    %cost = 45000
    %entryCost = 1150000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>
    %MODULE[ModuleTagList] { tag = Cockpit }
    %MODULE[ModuleTagList] { tag = HumanRated }
    %MODULE[ModuleTagList] { tag = NoResourceCostMult }
    %MODULE[ModuleTagList] { tag = Reentry }
}
@PART[_Knes_Hermes_Adapter,Knes_Airbrake,Knes_Hermes_AileronC,Knes_Hermes_AileronL,Knes_Hermes_AileronR,Knes_Hermes_RudderL,Knes_Hermes_RudderR]:FOR[xxxRP0]
{
    %TechRequired = spaceShuttles
    %cost = 850
    %entryCost = 1150000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>
    %MODULE[ModuleTagList] { tag = Reentry }
}
@PART[Knes_Hermes_Gear]:FOR[xxxRP0]
{
    %TechRequired = spaceShuttles
    %cost = 500
    %entryCost = 1150000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>
    %MODULE[ModuleTagList] { tag = Reentry }
}
@PART[Knes_Hermes_HRM]:FOR[xxxRP0]
{
    %TechRequired = spaceShuttles
    %cost = 2600
    %entryCost = 1150000
    RP0conf = true
    @description ^=:$: <b><color=green>From Knes mod</color></b>
}
@PART[_Knes_mrk_LES]:FOR[xxxRP0]
{
    %TechRequired = matureCapsules
    %cost = 1000
    %entryCost = 150000
    RP0conf = true
    @description ^=:$: <b><color=green>From  mod</color></b>
}
@PART[_Knes_mrk_Parachute]:FOR[xxxRP0]
{
    %TechRequired = matureCapsules
    %cost = 250
    %entryCost = 650000
    RP0conf = true
    @description ^=:$: <b><color=green>From  mod</color></b>
}
@PART[_Knes_mrk_Pod]:FOR[xxxRP0]
{
    %TechRequired = matureCapsules
    %cost = 35000
    %entryCost = 650000
    RP0conf = true
    @description ^=:$: <b><color=green>From  mod</color></b>
    %MODULE[ModuleTagList] { tag = HumanRated }
    %MODULE[ModuleTagList] { tag = NoResourceCostMult }
    %MODULE[ModuleTagList] { tag = Reentry }
}
@PART[_Knes_mrk_SM_Extended]:FOR[xxxRP0]
{
    %TechRequired = matureCapsules
    %cost = 7500
    %entryCost = 650000
    RP0conf = true
    @description ^=:$: <b><color=green>From  mod</color></b>
    %MODULE[ModuleTagList] { tag = NoResourceCostMult }
}

// Entry cost modifiers

@ENTRYCOSTMODS:FOR[RP-0]{

	//ESA costing
	Hermes = 1150000
	ESA-MRK = 650000
	ESA-MRK-LES = 150000
	ESA-mk1-LES = 25000
	ESA-mk1-capsule = ESA-mk1-LES, 75000

}

@ENTRYCOSTMODS:FOR[xxxRP-0]{

	//MRK parts
	-Knes-mrk-Pod = ESA-MRK
	-Knes-mrk-SM-Extended = ESA-MRK
	-Knes-mrk-Parachute = ESA-MRK
	-Knes-mrk-LES = ESA-MRK-LES

	//Hermes parts
	-Knes-Hermes-Adapter = Hermes
	Knes-Hermes = Hermes
	Knes-Hermes-AileronC = Hermes
	Knes-Hermes-AileronL = Hermes
	Knes-Hermes-AileronR = Hermes
	Knes-Hermes-Gear = Hermes
	Knes-Hermes-HRM = Hermes
	Knes-Hermes-RudderL = Hermes
	Knes-Hermes-RudderR = Hermes

	//Viking parts
	Knes-Crew-Pod-09375 = ESA-mk1-capsule
	Knes-DockingPortJr-0625 = ESA-mk1-capsule
	Knes-Parachute-Inline-0625 = ESA-mk1-capsule
	Knes-Service-Module-Viking-09375 = ESA-mk1-capsule
	-Knes-Control-LowProfile-RCS-0625 = ESA-mk1-capsule
	Knes-EscapeTower-Small = ESA-mk1-LES

}
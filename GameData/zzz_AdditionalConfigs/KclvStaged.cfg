// Add RP-1 support for KCLV staged combustion engines
@PART[KCLV_YF100]:FOR[xxxRP0]
{
    %title = YF-100
    %RP0conf = true
    @description ^=:$: <b><color=green>From KCLV mod</color></b>
    %MODULE[ModuleTagList] { tag = EngineLiquidTurbo }
}
@PART[KCLV_YF100]:FINAL
{
    %TechRequired = stagedCombustion1981
    %cost = 750
    %entryCost = 0
    @MODULE[Module*EngineConfigs],*
    {
        !CONFIG[YF-100K?100%] {}
        CONFIG
        {
            name = YF-100K-100
            %TechRequired = stagedCombustion1992
            %cost = 0
            %description = Upgrade with improved TWR.
            minThrust = 908.05
            maxThrust = 1397
            heatProduction = 100
            massMult = 0.947368421  // 1.8t
            %ullage = True
            %pressureFed = False
            %ignitions = 5	
            gimbalRange = 8.0
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 338.2
                key = 1 302.0
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.2
            }
            *@PARTUPGRADE[RFUpgrade_YF-100K-100]/deleteme -= 1
        }
        !CONFIG[YF-100K?105%] {}
        CONFIG
        {
            name = YF-100K-105
            %TechRequired = stagedCombustion1992
            %cost = 0
            %description = Upgrade with improved TWR. This variant has higher maximum thrust but no relight capability and reduced burn time.
            minThrust = 908.05
            maxThrust = 1466.85
            heatProduction = 100
            massMult = 0.947368421  // 1.8t
            %ullage = True
            %pressureFed = False
            %ignitions = 5	
            gimbalRange = 8.0
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 338.2
                key = 1 302.0
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.2
            }
            *@PARTUPGRADE[RFUpgrade_YF-100K-105]/deleteme -= 1
        }
        !CONFIG[YF-100K?No?TVC] {}
        CONFIG
        {
            name = YF-100K-No-Gimbal
            %TechRequired = stagedCombustion1992
            %cost = -100
            %description = Upgrade with improved TWR. This variant is lighter and cheaper due to lack of gimbal capability.
            minThrust = 908.05
            maxThrust = 1397
            heatProduction = 100
            massMult = 0.868421  // 1.65t
            %ullage = True
            %pressureFed = False
            %ignitions = 5	
            gimbalRange = 0.0
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 338.2
                key = 1 302.0
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.2
            }
            *@PARTUPGRADE[RFUpgrade_YF-100K-No-Gimbal]/deleteme -= 1
        }
        !CONFIG[YF-100N?105%] {}
        CONFIG
        {
            name = YF-100N-105
            %TechRequired = stagedCombustion1998
            %cost = 50
            %description = Upgrade for reusability. Certified for many relights.
            minThrust = 850
            maxThrust = 1501.5
            heatProduction = 100
            massMult = 0.9
            %ullage = True
            %pressureFed = False
            %ignitions = 10	
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 340
                key = 1 303.0
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.1
            }
            *@PARTUPGRADE[RFUpgrade_YF-100N]/deleteme -= 1
        }
    }
}
PARTUPGRADE
{
    name = RFUpgrade_YF-100K-100
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1992
    entryCost = 0
    cost = 0      
    title = YF-100 Engine Upgrade: YF-100K-100 Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-100 Engine now supports the YF-100K-100 configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nUpgrade with improved TWR.
}
PARTUPGRADE
{
    name = RFUpgrade_YF-100K-105
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1992
    entryCost = 0
    cost = 0      
    title = YF-100 Engine Upgrade: YF-100K-105 Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-100 Engine now supports the YF-100K-105 configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nUpgrade with improved TWR. This variant has higher maximum thrust but no relight capability and reduced burn time.
}
PARTUPGRADE
{
    name = RFUpgrade_YF-100K-No-Gimbal
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1992
    entryCost = 0
    cost = 0      
    title = YF-100 Engine Upgrade: YF-100K No TVC Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-100 Engine now supports the YF-100K No TVC configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nUpgrade with improved TWR. This variant is lighter and cheaper due to lack of gimbal capability.
}
PARTUPGRADE
{
    name = RFUpgrade_YF-100N
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1998
    entryCost = 0
    cost = 0      
    title = YF-100 Engine Upgrade: YF-100N Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-100 Engine now supports the YF-100N configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nUpgrade for reusability. Certified for many relights.
}
@PART[KCLV_YF100M]:FOR[xxxRP0]
{
    %title = YF-100M
    %RP0conf = true
    @description ^=:$: <b><color=green>From KCLV mod</color></b>
    %MODULE[ModuleTagList] { tag = EngineLiquidTurbo }
}
@PART[KCLV_YF100M]:FINAL
{
    %TechRequired = stagedCombustion1981
    %cost = 860
    %entryCost = 0
    @MODULE[Module*EngineConfigs],*
    {
        !CONFIG[YF-100M?105%] {}
        CONFIG
        {
            name = YF-100M-105
            %TechRequired = stagedCombustion1992
            %cost = 0
            %description = Upgrade rated for 105% thrust.
            minThrust = 750
            maxThrust = 1522.5
            heatProduction = 100
            massMult = 1.00
            ullage = True
            pressureFed = False
            ignitions = 5	
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 352.3
                key = 1 200
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.2
            }
            *@PARTUPGRADE[RFUpgrade_YF-100M-105]/deleteme -= 1
        }
    }
}
PARTUPGRADE
{
    name = RFUpgrade_YF-100M-105
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1992
    entryCost = 0
    cost = 0      
    title = YF-100M Engine Upgrade: YF-100M-105 Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-100M Engine now supports the YF-100M-105 configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nUpgrade rated for 105% thrust.
}
@PART[KCLV_YF115|KCLV_YF115_None_engine_mount|KCLV_YF115_None_vector]:FOR[xxxRP0]
{
    %title = YF-115
    %RP0conf = true
    @description ^=:$: <b><color=green>From KCLV mod</color></b>
    %MODULE[ModuleTagList] { tag = EngineLiquidTurbo }
}
@PART[KCLV_YF115|KCLV_YF115_None_engine_mount|KCLV_YF115_None_vector]:FINAL
{
    %TechRequired = stagedCombustion1981
    %cost = 200
    %entryCost = 0
    @MODULE[Module*EngineConfigs],*
    {
        !CONFIG[YF-115-None-Gimble] {}
        CONFIG
        {   
            name = YF-115-No-Gimbal
            %TechRequired = stagedCombustion1981
            %cost = 0
            description = This variant is lighter and cheaper due to lack of gimbal capability.
            minThrust = 117.091
            maxThrust = 189.147
            heatProduction = 100
            massMult = 0.8
            %ullage = True
            %pressureFed = False
            %ignitions = 3
            gimbalRange = 0.0	
            PROPELLANT
            {
                name = Kerosene
                ratio = 0.3487
                DrawGauge = true
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.6513
            }
            atmosphereCurve
            {
                key = 0 342
                key = 1 300
            }
            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 1.0
            }
            IGNITOR_RESOURCE
            {
                name = TEATEB
                amount = 0.3
            }
            *@PARTUPGRADE[RFUpgrade_YF-115-No-Gimbal]/deleteme -= 1
        }
        @CONFIG[KF-115-I]
        {
            %TechRequired = stagedCombustion1992
            %cost = 50
            %description = Speculative upgrade with improved performance and multi-start capability.
            @minThrust = 115
            @maxThrust = 195
            @atmosphereCurve
            {
                @key,0 = 0 347
                @key,1 = 1 310
            }
            *@PARTUPGRADE[RFUpgrade_KF-115-I]/deleteme -= 1
        }
    }
}
PARTUPGRADE
{
    name = RFUpgrade_YF-115-No-Gimbal
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1981
    entryCost = 0
    cost = 0      
    title = YF-115 Engine Upgrade: YF-115-No-Gimbal Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-115 Engine now supports the YF-115-No-Gimbal configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nThis variant is lighter and cheaper due to lack of gimbal capability.
}
PARTUPGRADE
{
    name = RFUpgrade_KF-115-I
    partIcon = RO-H1-RS27
    TechRequired = stagedCombustion1992
    entryCost = 0
    cost = 0      
    title = YF-115 Engine Upgrade: KF-115-I Config
    basicInfo = Engine Performance Upgrade
    manufacturer = Engine Upgrade
    deleteme = 1
    description = The YF-115 Engine now supports the KF-115-I configuration for increased performance. Unlock it in the VAB/SPH through the engine configs interface.\n\nSpeculative upgrade with improved ISP and multi-start capability.
}
@ENTRYCOSTMODS:AFTER[RP-0]
{
    YF-100 = 70000
    YF-100M = 10000,YF-100
    YF-115 = 30000,YF-100
}
@ENTRYCOSTMODS:AFTER[xxxRP-0]
{
    KCLV-YF100 = YF-100
    YF-100K-100 = 5000,YF-100
    YF-100K-105 = 5000,YF-100
    YF-100K-No-Gimbal = 5000,YF-100
    YF-100N-105 = 20000,YF-100
    KCLV-YF100M = YF-100M
    YF-100M-105 = 10000,YF-100M
    KCLV-YF115 = YF-115
    KCLV-YF115-None-engine-mount = YF-115
    KCLV-YF115-None-vector = YF-115
    YF-115-No-Gimbal = YF-115
    KF-115-I = 20000,YF-115
}
